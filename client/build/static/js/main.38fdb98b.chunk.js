(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{36:function(e,t,n){},43:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(13),o=n.n(s),i=(n(36),n(7)),l=(n(42),n(66)),r=n(68),d=(n(43),n(10)),j=n(70),u=n(67),h=n(9),b=n.n(h),m=n(2),O=function(e){var t=Object(c.useState)([]),n=Object(d.a)(t,2),a=n[0],s=n[1];Object(c.useEffect)((function(){b.a.get("http://localhost:8000/api/authors").then((function(e){console.log("From API:",e),s(e.data)})).catch((function(e){console.log(e)}))}),[]);return Object(m.jsxs)(l.a,{children:[Object(m.jsx)(j.a,{onClick:function(e){Object(i.b)("/new")},className:"mt-2 mb-2",variant:"primary",size:"sm",children:"New Author"}),Object(m.jsx)("h6",{children:"We have quotes by:"}),Object(m.jsxs)(u.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Author"}),Object(m.jsx)("th",{children:"Available Actions"})]})}),Object(m.jsx)("tbody",{children:a.map((function(e){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:e.name}),Object(m.jsxs)("td",{children:[Object(m.jsx)(j.a,{onClick:function(t){Object(i.b)("/edit/".concat(e._id))},className:"ml-4",variant:"warning",size:"sm",children:"Edit"}),"    ",Object(m.jsx)(j.a,{onClick:function(t){var n;console.log("Event inside delete button",e),n=e,console.log("".concat(n._id," to be deleted")),b.a.delete("http://localhost:8000/api/authors/".concat(n._id)).then((function(e){var t=a.filter((function(e){return e!==n}));s(t)})).catch((function(e){console.log(e)}))},className:"ml-4",variant:"danger",size:"sm",children:"Delete"})]})]},e._id)}))})]})]})},x=n(69),v=function(e){var t=Object(c.useState)(""),n=Object(d.a)(t,2),a=n[0],s=n[1],o=Object(c.useState)(""),r=Object(d.a)(o,2),u=r[0],h=r[1];return Object(m.jsx)(l.a,{children:Object(m.jsxs)("div",{className:"w-100 p-4 rounded mx-auto shadow",children:[Object(m.jsx)("h3",{className:"text-center",children:"New Author"}),Object(m.jsxs)(x.a,{onSubmit:function(e){!function(e){e.preventDefault();var t={name:a};b.a.post("http://localhost:8000/api/authors/",t).then((function(e){console.log("new Author response:",e),Object(i.b)("/")})).catch((function(e){var t,n,c,a,s,o,i,l;console.log(null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n||null===(c=n.errors)||void 0===c||null===(a=c.name)||void 0===a?void 0:a.message),h(null===(s=e.response)||void 0===s||null===(o=s.data)||void 0===o||null===(i=o.errors)||void 0===i||null===(l=i.name)||void 0===l?void 0:l.message),console.log(e.response)}))}(e)},children:[Object(m.jsxs)(x.a.Group,{controlId:"formBasicLabel",children:[Object(m.jsx)(x.a.Label,{children:"Name"}),u&&Object(m.jsxs)("span",{className:"text-danger",children:[" ","- ",u]}),Object(m.jsx)(x.a.Control,{onChange:function(e){s(e.target.value)},type:"text",placeholder:"Author's name",value:a}),Object(m.jsx)(x.a.Text,{className:"text-muted",children:"Must be min 3 characters long"})]}),Object(m.jsx)(j.a,{className:"ml-4",variant:"warning",size:"sm",type:"submit",children:"Submit"}),Object(m.jsx)(j.a,{onClick:function(e){Object(i.b)("/")},className:"ml-4",variant:"warning",size:"sm",children:"Cancel"})]})]})})},p=function(e){console.log("PROPS:",e.id);var t=Object(c.useState)(""),n=Object(d.a)(t,2),a=n[0],s=n[1],o=Object(c.useState)(""),r=Object(d.a)(o,2),u=r[0],h=r[1];Object(c.useEffect)((function(){b.a.get("http://localhost:8000/api/authors/"+e.id).then((function(e){s(e.data.name)})).catch((function(e){console.log(e)}))}),[e.id]);return Object(m.jsx)(l.a,{children:Object(m.jsxs)("div",{className:"w-100 p-4 rounded mx-auto shadow",children:[Object(m.jsx)("h3",{className:"text-center",children:"Edit Author"}),Object(m.jsxs)(x.a,{onSubmit:function(t){!function(t){t.preventDefault();var n={name:a};b.a.put("http://localhost:8000/api/authors/"+e.id,n).then((function(e){console.log("EditAuthor response:",e),Object(i.b)("/")})).catch((function(e){var t,n,c,a,s,o,i,l;console.log(null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n||null===(c=n.errors)||void 0===c||null===(a=c.name)||void 0===a?void 0:a.message),h(null===(s=e.response)||void 0===s||null===(o=s.data)||void 0===o||null===(i=o.errors)||void 0===i||null===(l=i.name)||void 0===l?void 0:l.message),console.log(e.response)}))}(t)},children:[Object(m.jsxs)(x.a.Group,{controlId:"formBasicLabel",children:[Object(m.jsx)(x.a.Label,{children:"Name"}),u&&Object(m.jsxs)("span",{className:"text-danger",children:[" ","- ",u]}),Object(m.jsx)(x.a.Control,{onChange:function(e){s(e.target.value)},type:"text",value:a}),Object(m.jsx)(x.a.Text,{className:"text-muted",children:"Must be min 3 characters long"})]}),Object(m.jsx)(j.a,{className:"ml-4",variant:"warning",size:"sm",type:"submit",children:"Update"}),Object(m.jsx)(j.a,{onClick:function(e){Object(i.b)("/")},className:"ml-4",variant:"secondary",size:"sm",children:"Cancel"})]})]})})};var f=function(){return Object(m.jsxs)(l.a,{children:[Object(m.jsx)(r.a,{className:"justify-content-center",bg:"dark",variant:"dark",sticky:"top",children:Object(m.jsx)(r.a.Brand,{children:"Favorite Authors"})}),Object(m.jsxs)(i.a,{children:[Object(m.jsx)(O,{path:"/"}),Object(m.jsx)(v,{path:"/new"}),Object(m.jsx)(p,{path:"/edit/:id"})]})]})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,71)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),s(e),o(e)}))};o.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(f,{})}),document.getElementById("root")),g()}},[[64,1,2]]]);
//# sourceMappingURL=main.38fdb98b.chunk.js.map